<?xml version="1.0"?>
<DTS:Executable xmlns:DTS="www.microsoft.com/SqlServer/Dts"
  DTS:refId="Package"
  DTS:CreationDate="5/31/2020 7:57:42 PM"
  DTS:CreationName="Microsoft.Package"
  DTS:CreatorComputerName="SUPERDW"
  DTS:CreatorName="SPP\udih"
  DTS:DTSID="{3B5F2CE4-0080-48A0-88AB-ED53951E64C2}"
  DTS:ExecutableType="Microsoft.Package"
  DTS:LastModifiedProductVersion="15.0.2000.121"
  DTS:LocaleID="1045"
  DTS:ObjectName="Package2"
  DTS:PackageType="5"
  DTS:ProtectionLevel="2"
  DTS:VersionBuild="8"
  DTS:VersionGUID="{3267C4E8-6EC6-4D7B-B40A-8DBA3AAA4135}">
  <DTS:Property
    DTS:Name="PackageFormatVersion">8</DTS:Property>
  <DTS:ConnectionManagers>
    <DTS:ConnectionManager
      DTS:refId="Package.ConnectionManagers[SUPERDW.SuperPharmPoland]"
      DTS:CreationName="OLEDB"
      DTS:DTSID="{D27BD771-EC2C-49BF-ACD1-9E378714DA4E}"
      DTS:ObjectName="SUPERDW.SuperPharmPoland">
      <DTS:ObjectData>
        <DTS:ConnectionManager
          DTS:ConnectionString="Data Source=SUPERDW;Initial Catalog=SuperPharmPoland;Provider=SQLNCLI11.1;Integrated Security=SSPI;Auto Translate=False;" />
      </DTS:ObjectData>
    </DTS:ConnectionManager>
  </DTS:ConnectionManagers>
  <DTS:Variables>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{43DFF072-5198-4483-AECC-A374556B0890}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="GETDATE()"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="CurrentDate">
      <DTS:VariableValue
        DTS:DataType="7">6/8/2020 9:02:03 AM</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{D665DC30-0FC6-42F7-9465-7F63E3D695D6}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="&quot;Insert into STA_Inflation &#xA;Select '&quot;+ (DT_STR, 19, 1250) (DT_DBTIMESTAMP) @[User::LastInflationDate2] +&quot;',&quot;+ (DT_STR,8,1250) (DT_R8) @[User::Inflation2] +&quot;, NULL&quot;"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="EXPR_INSERT">
      <DTS:VariableValue
        DTS:DataType="8">Insert into STA_Inflation 
Select '2020-06-03 05:31:23',184,44, NULL</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{6DCB6B99-7FF8-48AD-A916-90A6758C8A3F}"
      DTS:EvaluateAsExpression="True"
      DTS:Expression="&quot;Update STA_Inflation &#xA;Set LastInflationValue = &quot;+ (DT_STR,8,1250) (DT_R8) @[User::Inflation2]"
      DTS:IncludeInDebugDump="2345"
      DTS:Namespace="User"
      DTS:ObjectName="EXPR_UPDATE">
      <DTS:VariableValue
        DTS:DataType="8">Update STA_Inflation 
Set LastInflationValue = 184,44</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{D375CDB5-614E-4988-B190-96D1D4540E0F}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="Inflation">
      <DTS:VariableValue
        DTS:DataType="5">184.439999999999998</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{7D0ACFA1-21B7-4142-92FA-B4A1669D6957}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="Inflation2">
      <DTS:VariableValue
        DTS:DataType="5">184.439999999999998</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{1AD4B702-AB77-4CC7-9DCB-A6EA8C6DEB49}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="LastInflationDate">
      <DTS:VariableValue
        DTS:DataType="7">6/3/2020 5:30:00 AM</DTS:VariableValue>
    </DTS:Variable>
    <DTS:Variable
      DTS:CreationName=""
      DTS:DTSID="{D6FF0E02-DBCF-47D4-81D5-43FAF018AEF3}"
      DTS:IncludeInDebugDump="6789"
      DTS:Namespace="User"
      DTS:ObjectName="LastInflationDate2">
      <DTS:VariableValue
        DTS:DataType="7">6/3/2020 5:31:23 AM</DTS:VariableValue>
    </DTS:Variable>
  </DTS:Variables>
  <DTS:Executables>
    <DTS:Executable
      DTS:refId="Package\Execute SQL Task"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{8969e22a-7f3b-4c3d-9fb0-e7f6b2764959}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Execute SQL Task"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{D27BD771-EC2C-49BF-ACD1-9E378714DA4E}"
          SQLTask:SqlStatementSource=" WITH CTE1 AS (&#xA;SELECT  top 1 ROW_NUMBER() OVER (ORDER BY dtDate desc ) rownum,DATEADD(MM,1,(select MAX(dtDate) from dbo.STA_Inflation)) as LastInflationDate&#xA;&#xA;from dbo.STA_Inflation order by dtDate desc  ),&#xA;CTE2 AS (&#xA;SELECT  top 1 ROW_NUMBER() OVER (ORDER BY dtDate desc ) rownum,(select InflationValue From STA_Inflation where dtDate= (select MAX(dtDate) from dbo.STA_Inflation)) as  InflationValue&#xA;from dbo.STA_Inflation order by dtDate desc)&#xA;SELECT LastInflationDate,InflationValue FROM CTE1 full outer  JOIN CTE2 ON CTE1.rownum=CTE2.rownum"
          SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="0"
            SQLTask:DtsVariableName="User::LastInflationDate2" />
          <SQLTask:ResultBinding
            SQLTask:ResultName="1"
            SQLTask:DtsVariableName="User::Inflation2" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Execute SQL Task 1"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{fc3c687c-5c56-4044-a879-936c42113bce}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Execute SQL Task 1"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{D27BD771-EC2C-49BF-ACD1-9E378714DA4E}"
          SQLTask:SqlStmtSourceType="Variable"
          SQLTask:SqlStatementSource="User::EXPR_INSERT" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::LastInflationDate2"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="135"
            SQLTask:ParameterSize="-1" />
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="1"
            SQLTask:DtsVariableName="User::Inflation2"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="5"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Execute SQL Task 2"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{53b78e36-c4b3-4542-ac67-2b588ce977ad}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Execute SQL Task 2"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; SQL Server 2019; © 2019 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{D27BD771-EC2C-49BF-ACD1-9E378714DA4E}"
          SQLTask:SqlStmtSourceType="Variable"
          SQLTask:SqlStatementSource="User::EXPR_UPDATE" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ParameterBinding
            SQLTask:ParameterName="0"
            SQLTask:DtsVariableName="User::Inflation2"
            SQLTask:ParameterDirection="Input"
            SQLTask:DataType="5"
            SQLTask:ParameterSize="-1" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
    <DTS:Executable
      DTS:refId="Package\Variables"
      DTS:CreationName="Microsoft.ExecuteSQLTask"
      DTS:Description="Execute SQL Task"
      DTS:DTSID="{7d0a4ea1-4aeb-4899-be1c-6f71a188aac9}"
      DTS:ExecutableType="Microsoft.ExecuteSQLTask"
      DTS:LocaleID="-1"
      DTS:ObjectName="Variables"
      DTS:TaskContact="Execute SQL Task; Microsoft Corporation; Microsoft SQL Server 2008 R2; © 2007 Microsoft Corporation; All Rights Reserved;http://www.microsoft.com/sql/support/default.asp;1"
      DTS:ThreadHint="0">
      <DTS:Variables />
      <DTS:ObjectData>
        <SQLTask:SqlTaskData
          SQLTask:Connection="{D27BD771-EC2C-49BF-ACD1-9E378714DA4E}"
          SQLTask:BypassPrepare="False"
          SQLTask:SqlStatementSource="Select MAX(dtDate) as LastInflationDate,&#xA;InflationValue,&#xA;GETDATE() AS Currentdate from STA_Inflation where dtDate=(select MAX(dtDate) as Inflation  from dbo.STA_Inflation)&#xA;GROUP BY  InflationValue"
          SQLTask:ResultType="ResultSetType_SingleRow" xmlns:SQLTask="www.microsoft.com/sqlserver/dts/tasks/sqltask">
          <SQLTask:ResultBinding
            SQLTask:ResultName="0"
            SQLTask:DtsVariableName="User::LastInflationDate" />
          <SQLTask:ResultBinding
            SQLTask:ResultName="1"
            SQLTask:DtsVariableName="User::Inflation" />
          <SQLTask:ResultBinding
            SQLTask:ResultName="2"
            SQLTask:DtsVariableName="User::CurrentDate" />
        </SQLTask:SqlTaskData>
      </DTS:ObjectData>
    </DTS:Executable>
  </DTS:Executables>
  <DTS:PrecedenceConstraints>
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint]"
      DTS:CreationName=""
      DTS:DTSID="{c87f5027-1627-4b4a-b9c2-77c1f4e9297b}"
      DTS:EvalOp="1"
      DTS:Expression="DATEPART( &quot;MM&quot;, @[User::LastInflationDate]  ) != DATEPART( &quot;MM&quot;, @[User::CurrentDate]  )"
      DTS:From="Package\Variables"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint"
      DTS:To="Package\Execute SQL Task" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 1]"
      DTS:CreationName=""
      DTS:DTSID="{eea3b11f-5084-4ed0-9bf8-08afcb804080}"
      DTS:From="Package\Execute SQL Task"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 1"
      DTS:To="Package\Execute SQL Task 1" />
    <DTS:PrecedenceConstraint
      DTS:refId="Package.PrecedenceConstraints[Constraint 2]"
      DTS:CreationName=""
      DTS:DTSID="{bd3dff9b-4874-4c11-9d96-62c4ae036b92}"
      DTS:From="Package\Execute SQL Task 1"
      DTS:LogicalAnd="True"
      DTS:ObjectName="Constraint 2"
      DTS:To="Package\Execute SQL Task 2" />
  </DTS:PrecedenceConstraints>
  <DTS:DesignTimeProperties><![CDATA[<?xml version="1.0"?>
<!--This CDATA section contains the layout information of the package. The section includes information such as (x,y) coordinates, width, and height.-->
<!--If you manually edit this section and make a mistake, you can delete it. -->
<!--The package will still be able to load normally but the previous layout information will be lost and the designer will automatically re-arrange the elements on the design surface.-->
<Objects
  Version="8">
  <!--Each node below will contain properties that do not affect runtime behavior.-->
  <Package
    design-time-name="Package">
    <LayoutInfo>
      <GraphLayout
        Capacity="8" xmlns="clr-namespace:Microsoft.SqlServer.IntegrationServices.Designer.Model.Serialization;assembly=Microsoft.SqlServer.IntegrationServices.Graph" xmlns:mssgle="clr-namespace:Microsoft.SqlServer.Graph.LayoutEngine;assembly=Microsoft.SqlServer.Graph" xmlns:assembly="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:mssgm="clr-namespace:Microsoft.SqlServer.Graph.Model;assembly=Microsoft.SqlServer.Graph">
        <NodeLayout
          Size="163,42"
          Id="Package\Execute SQL Task"
          TopLeft="34,108.5" />
        <NodeLayout
          Size="172,42"
          Id="Package\Execute SQL Task 1"
          TopLeft="25,191.5" />
        <NodeLayout
          Size="172,42"
          Id="Package\Execute SQL Task 2"
          TopLeft="18,273" />
        <NodeLayout
          Size="136,42"
          Id="Package\Variables"
          TopLeft="52.443396226415,26" />
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint]"
          TopLeft="117.971698113208,68">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,40.5"
              Start="0,0"
              End="0,33">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,33" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <mssgm:EdgeLabel
              BoundingBox="-8,8.5,16,16"
              RelativePosition="Any" />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 1]"
          TopLeft="113.25,150.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,41"
              Start="0,0"
              End="0,33.5">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,33.5" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
        <EdgeLayout
          Id="Package.PrecedenceConstraints[Constraint 2]"
          TopLeft="107.5,233.5">
          <EdgeLayout.Curve>
            <mssgle:Curve
              StartConnector="{assembly:Null}"
              EndConnector="0,39.5"
              Start="0,0"
              End="0,32">
              <mssgle:Curve.Segments>
                <mssgle:SegmentCollection
                  Capacity="5">
                  <mssgle:LineSegment
                    End="0,32" />
                </mssgle:SegmentCollection>
              </mssgle:Curve.Segments>
            </mssgle:Curve>
          </EdgeLayout.Curve>
          <EdgeLayout.Labels>
            <EdgeLabelCollection />
          </EdgeLayout.Labels>
        </EdgeLayout>
      </GraphLayout>
    </LayoutInfo>
  </Package>
</Objects>]]></DTS:DesignTimeProperties>
</DTS:Executable>